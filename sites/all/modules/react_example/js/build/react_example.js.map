{"version":3,"sources":["react_example.js","MenuStore.js","MealPlanner.jsx","MenuItem.jsx","MenuList.jsx","main.jsx"],"names":["MenuStore","_store","items","meal","Actions","Reflux","createActions","Store","createStore","listenables","getInitialState","onInitMenu","menu","jQuery","extend","this","trigger","onAddToMeal","id","inArray","push","onRemoveFromMeal","grep","test","get","data","initMenu","MealPlanner","React","createClass","displayName","mixins","connect","render","state","store","map","item","key","createElement","MenuItem","inMeal","bind","className","props","actionClick","removeFromMeal","addToMeal","name","field_calories","type","disabled","checked","field_brandon_thordarson","value","onClick","MenuList","ids","Object","keys","filter","document","getElementById"],"mappings":"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","file":"react_example.js","sourcesContent":[null,"var MenuStore = {};\n\n(function () {\n  var _store = {\n    // An object full of item ids and their nutritional information.\n    items: {},\n    // An array of items that make up the user's meal.\n    meal: [],\n  };\n\n  MenuStore.Actions = Reflux.createActions([\n    'initMenu',\n    'addToMeal',\n    'removeFromMeal',\n  ]);\n\n  MenuStore.Store = Reflux.createStore({\n    listenables: [MenuStore.Actions],\n\n    getInitialState: function () {\n      return _store;\n    },\n\n    onInitMenu: function (menu) {\n      jQuery.extend(_store.items, menu);\n\n      this.trigger(_store);\n    },\n\n    onAddToMeal: function (id) {\n      // IDs are stored as a string by the JSON.\n      id = '' + id;\n\n      // If the item is already in our meal, ignore it.\n      if (jQuery.inArray(id, _store.meal) !== -1) { return; }\n\n      _store.meal.push(id);\n\n      this.trigger(_store);\n    },\n\n    onRemoveFromMeal: function (id) {\n      // IDs are stored as a string by the JSON.\n      id = '' + id;\n\n      // Remove any item with the same ID from the meal.\n      _store.meal = jQuery.grep(_store.meal, function (test) {\n        return id != test;\n      });\n\n      this.trigger(_store);\n    },\n  });\n})();\n\njQuery.get('/sites/all/modules/react_example/js/data.json', function (data) {\n  MenuStore.Actions.initMenu(data);\n});\n","var MealPlanner = React.createClass({\n  mixins: [Reflux.connect(MenuStore.Store, 'store')],\n\n  render: function () {\n    var meal = this.state.store.meal.map(function (id) {\n      var item = this.state.store.items[id]\n        , key = 'menu-item-' + id;\n\n      return (\n        <MenuItem key={key} item={item} inMeal='true' />\n      );\n    }.bind(this));\n\n    return (\n      <div className=\"meal-planner\">\n        <h1>Meal Planner</h1>\n        <table>\n          <thead>\n            <tr>\n              <td>Name</td>\n              <td>Calories</td>\n              <td>Brandon Approved?</td>\n            </tr>\n          </thead>\n          <tbody>\n            {meal}\n          </tbody>\n        </table>\n      </div>\n    );\n  },\n});\n","var MenuItem = React.createClass({\n  render: function () {\n    var item = this.props.item;\n\n    var inMeal = (typeof this.props.inMeal !== 'undefined' && this.props.inMeal);\n    var actionClick = (inMeal)\n          ? MenuStore.Actions.removeFromMeal.bind(null, item.id)\n          : MenuStore.Actions.addToMeal.bind(null, item.id);\n\n    return (\n      <tr>\n        <td>{item.name}</td>\n        <td>{item.field_calories}</td>\n        <td><input type=\"checkbox\" disabled checked={item.field_brandon_thordarson === '1'} /></td>\n        <td><input type=\"button\" value={inMeal ? 'Remove from meal' : 'Add to meal'} onClick={actionClick} /></td>\n      </tr>\n    );\n  },\n});\n","var MenuList = React.createClass({\n  mixins: [Reflux.connect(MenuStore.Store, 'store')],\n\n  render: function () {\n    var ids = Object.keys(this.state.store.items);\n    ids = ids.filter(function (id) {\n      return jQuery.inArray(id, this.state.store.meal) === -1;\n    }.bind(this));\n    var items = jQuery.map(ids, function (id) {\n      var item = this.state.store.items[id]\n        , key = 'menu-item-' + id;\n\n      return (<MenuItem key={key} item={item}/>);\n    }.bind(this));\n\n    return (\n      <div className=\"menu-items\">\n        <h1>Menu Items</h1>\n        <table>\n          <thead>\n            <tr>\n              <td>Name</td>\n              <td>Calories</td>\n              <td>Brandon Approved?</td>\n            </tr>\n          </thead>\n          <tbody>\n            {items}\n          </tbody>\n        </table>\n      </div>\n    );\n  },\n});\n","React.render(\n  <div className=\"menu\">\n    <MealPlanner />\n    <MenuList />\n  </div>,\n  document.getElementById('react-tutorial')\n);\n"],"sourceRoot":"/source/"}