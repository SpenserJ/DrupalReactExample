"use strict";var MenuStore={};!function(){var e={items:{},meal:[]};MenuStore.Actions=Reflux.createActions(["initMenu","addToMeal","removeFromMeal"]),MenuStore.Store=Reflux.createStore({listenables:[MenuStore.Actions],getInitialState:function(){return e},onInitMenu:function(t){jQuery.extend(e.items,t),this.trigger(e)},onAddToMeal:function(t){t=""+t,-1===jQuery.inArray(t,e.meal)&&(e.meal.push(t),this.trigger(e))},onRemoveFromMeal:function(t){t=""+t,e.meal=jQuery.grep(e.meal,function(e){return t!=e}),this.trigger(e)}})}(),jQuery.get("/sites/all/modules/react_example/js/data.json",function(e){MenuStore.Actions.initMenu(e)});var MealPlanner=React.createClass({displayName:"MealPlanner",mixins:[Reflux.connect(MenuStore.Store,"store")],render:function(){var e=this.state.store.meal.map(function(e){return this.state.store.items[e]}.bind(this));if(0===e.length)return null;var t=e.map(function(e){var t="menu-item-"+e.id;return React.createElement(MenuItem,{key:t,item:e,inMeal:"true"})}.bind(this));return React.createElement("div",{className:"meal-planner"},React.createElement("h1",null,"Meal Planner"),React.createElement("table",null,React.createElement("thead",null,React.createElement("tr",null,React.createElement("td",null,"Name"),React.createElement("td",null,"Calories"),React.createElement("td",null,"Brandon Approved?"))),React.createElement("tbody",null,t)))}}),MenuItem=React.createClass({displayName:"MenuItem",render:function(){var e=this.props.item,t="undefined"!=typeof this.props.inMeal&&this.props.inMeal,n=t?MenuStore.Actions.removeFromMeal.bind(null,e.id):MenuStore.Actions.addToMeal.bind(null,e.id);return React.createElement("tr",null,React.createElement("td",null,e.name),React.createElement("td",null,e.field_calories),React.createElement("td",null,React.createElement("input",{type:"checkbox",disabled:!0,checked:"1"===e.field_brandon_thordarson})),React.createElement("td",null,React.createElement("input",{type:"button",value:t?"Remove from meal":"Add to meal",onClick:n})))}}),MenuList=React.createClass({displayName:"MenuList",mixins:[Reflux.connect(MenuStore.Store,"store")],render:function(){var e=Object.keys(this.state.store.items);e=e.filter(function(e){return-1===jQuery.inArray(e,this.state.store.meal)}.bind(this));var t=jQuery.map(e,function(e){var t=this.state.store.items[e],n="menu-item-"+e;return React.createElement(MenuItem,{key:n,item:t})}.bind(this));return React.createElement("div",{className:"menu-items"},React.createElement("h1",null,"Menu Items"),React.createElement("table",null,React.createElement("thead",null,React.createElement("tr",null,React.createElement("td",null,"Name"),React.createElement("td",null,"Calories"),React.createElement("td",null,"Brandon Approved?"))),React.createElement("tbody",null,t)))}});React.render(React.createElement("div",{className:"menu"},React.createElement(MealPlanner,null),React.createElement(MenuList,null)),document.getElementById("react-tutorial"));
//# sourceMappingURL=react_example.js.map